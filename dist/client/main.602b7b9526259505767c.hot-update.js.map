{"version":3,"sources":["webpack:///./src/client/Components/Signup/index.js"],"names":["Signup","state","username","password","cpassword","err","loading","matched","success","onSignup","e","preventDefault","setState","Axios","post","then","res","props","LoginUser","data","history","push","localStorage","setItem","token","catch","console","log","setTimeout","target","value","Component","mapDispatchToProps","dispatch","undefined"],"mappings":"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","file":"main.602b7b9526259505767c.hot-update.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport Loader from '../Partials/Loader';\r\nimport { LoginUser } from '../../Redux/Actions/Auth';\r\n\r\nclass Signup extends Component {\r\n  state = {\r\n    username: null,\r\n    password: null,\r\n    cpassword: null,\r\n    err: false,\r\n    loading: false,\r\n    matched: null,\r\n    success: false\r\n  }\r\n\r\n  onSignup = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.username && this.state.password && this.state.cpassword) {\r\n      !this.state.loading && this.setState({\r\n        loading: true\r\n      })\r\n      Axios.post(`/user/signup`, {\r\n        username: this.state.username,\r\n        password: this.state.password,\r\n        cpassword: this.state.cpassword\r\n      }).then((res) => {\r\n        this.state.loading && this.setState({\r\n          loading: false\r\n        });\r\n        this.props.LoginUser(res.data);\r\n        this.props.history.push('/dashboard');\r\n        localStorage.setItem('auth', res.data.token)\r\n      }).catch((err) => {\r\n        console.log(err);\r\n        this.setState({\r\n          err: 'Something Error',\r\n          loading: false\r\n        })\r\n      })\r\n    } else {\r\n      this.setState({\r\n        err: 'Field cannot be empty'\r\n      });\r\n    }\r\n    this.state.err && setTimeout(() => {\r\n      this.setState({\r\n        err: false\r\n      })\r\n    }, 2000);\r\n    this.state.loading && setTimeout(() => {\r\n      this.setState({\r\n        loading: false,\r\n        err: 'Please try again'\r\n      })\r\n    }, 5000)\r\n  }\r\n\r\n  // checkUser = (e) => {\r\n  //   Axios.get('/user/check', {\r\n  //     headers: {\r\n  //       'username': e.target.value\r\n  //     }\r\n  //   }).then((res) => {\r\n  //     this.setState({\r\n  //       success: true\r\n  //     })\r\n  //   }).catch((e) => {\r\n      \r\n  //     this.setState({\r\n  //       success: false\r\n  //     })\r\n  //   })\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"bg_image\">\r\n        <div className=\"login_logodiv\">\r\n          <span className=\"login_sidelogo\"><i className=\"fa fa-clock-o\" aria-hidden=\"true\"></i></span>\r\n          <h1>DEL MAR VACATIONS</h1>\r\n        </div>\r\n        <div className=\"login_overalldiv\">\r\n          <span className=\"login_portaltxt\">Homeowner Portal</span>\r\n          <div className=\"login_bg\">\r\n            <h1>LOGIN</h1>\r\n            <form onSubmit={this.onSignup}>\r\n              <ul className=\"login_ul\">\r\n                <li>\r\n                  <input \r\n                    type=\"text\" \r\n                    placeholder=\"Username\"\r\n                    onChange={(e) => this.setState({ username: e.target.value})}\r\n                  />\r\n                </li>\r\n                {this.state.success && <span className=\"login_note\">Username already exists</span>}\r\n                \r\n                <li>\r\n                  <input \r\n                    type=\"password\" \r\n                    placeholder=\"Password\"\r\n                    onChange={(e) => this.setState({ password: e.target.value}) }                   \r\n                  />\r\n                </li>\r\n                <li>\r\n                  <input \r\n                    type=\"password\" \r\n                    placeholder=\"Confirm Password\"\r\n                    onChange={(e) => this.setState({ cpassword: e.target.value}) }\r\n                    onKeyUp={(e) => {\r\n                      if(e.target.value === this.state.password) {\r\n                        this.setState({\r\n                          matched: true\r\n                        })\r\n                      } else {\r\n                        this.setState({\r\n                          matched: false\r\n                        })\r\n                      }\r\n                    }}               \r\n                  />\r\n                </li>\r\n                {this.state.matched === false && <span className=\"login_note\">Password does not matched</span>}\r\n                <li><input type=\"submit\" value=\"Submit\"/></li>\r\n              </ul>\r\n            </form>\r\n            {this.state.err && <span className=\"err\">{this.state.err}</span>}\r\n            {this.state.loading && <Loader/>}\r\n            <span className=\"creat_acc\">Already have an account? <Link to=\"/\">Login</Link></span>\r\n            <span className=\"login_note\">NOTE: Use the email you use for streamline to create this account.</span>\r\n          </div>\r\n        </div>\r\n      </div> \r\n    )\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  LoginUser: (data) => dispatch(LoginUser(data))\r\n})\r\n\r\nexport default connect(undefined, mapDispatchToProps)(Signup)"],"sourceRoot":""}